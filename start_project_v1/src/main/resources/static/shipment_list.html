
<div class="alert alert-success" ng-show="controller.success">
	<strong>Success! </strong> {{controller.actionMsg}}
</div>
<div class="alert alert-danger" ng-show="controller.error">
	<strong>Fail!</strong>{{controller.actionMsg}}
</div>
<div class="page-header">
	<h3>Shipment List</h3>
</div>
<div class="button-group">
	<button type="button" class="btn btn-primary"  onclick="location.href='#/create_new_shipment';">New shipment</button>
</div>
<br/>
<div>
	<table st-table="controller.displayCollection" class="table table-bordered table-striped table-hover" st-safe-src="controller.rowCollection" >
		<thead>
		<tr>
			<th colspan="11"><input st-search="" class="form-control" placeholder="global search ..." type="text"/></th>
		</tr>
		<tr>
			
			<th st-sort="id">ID</th>
			<th st-sort="status">Status</th>
			<th st-sort="origin">Origin</th>
			<th st-sort="destination">Destination</th>
			<th st-sort="start_date">Start Date</th>
			<th st-sort="est_finish_date">Est. Arrival Date</th>
			<th st-sort="est_duration">Est. Duration</th>
			<th st-sort="actual_finish_date">Actual Arrival Date</th>
			<th st-sort="actual_duration">Actual Duration</th>
			<th st-sort="cost">Cost</th>
			<th>Actions</th>
		</tr>
		
		</thead>
		<tbody>
		<tr ng-repeat="row in controller.displayCollection">
			<td>{{row.id}}</td>
			<td valign="middle">
				<div class="statusbox inprogress" ng-show="row.status==1"> In Progress</div>
				<div class="statusbox premature" ng-show="row.status==0"> Negotiating</div>
				<div class="statusbox complete" ng-show="row.status==2"> Completed</div>
			</td>
			<td>{{row.origin}}</td>
			<td>{{row.destination}}</td>
			
			<td>{{row.start_date | date:"MMM d, y h:mm"}}</td>
			<td>{{row.est_finish_date | date:"MMM d, y h:mm"}}</td>
			<td>{{row.est_duration}}</td>
			<td>{{row.actual_finish_date | date:"MMM d, y h:mm"}}</td>
			<td>{{row.actual_duration}}</td>
			<td  align="right">{{row.cost | currency}}</td>
			<td valign="middle">
				<button title="Remove shipment." type="button" mw-confirm-click="controller.removeItem(row)" mw-confirm-click-message="Are you sure you want to delete this shipment, It might has a lot of underlying information?" class="btn btn-xs btn-danger btn-pos">
					<span class="glyphicon glyphicon-remove"></span>
				</button>
				<div class="divider"/>
				<button title="View and modify procurement order details including products ordered, all events and logs." type="button" ng-click="controller.viewShipment(row)" class="btn btn-xs btn-success btn-pos">
					<i class="glyphicon glyphicon-cog"></i>
				</button>
			</td>
		</tr>
		</tbody>
	</table>
</div>